<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chinese Math Content Test</title>
    <style>
        body { 
            font-family: "Microsoft YaHei", "Noto Sans CJK TC", "PingFang TC", Arial, sans-serif;
            margin: 20px; 
            line-height: 1.8;
            font-size: 16px;
        }
        .test-section { 
            border: 1px solid #ddd; 
            margin: 20px 0; 
            padding: 20px; 
            background: #f9f9f9;
            border-radius: 8px;
        }
        .original { background: #ffe7e7; }
        .fixed { background: #e7ffe7; }
        .hint {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
        }
        .debug {
            background: #e3f2fd;
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }
    </style>
    
    <!-- MathJax Configuration -->
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                processEnvironments: true
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
                ignoreHtmlClass: 'no-mathjax'
            },
            startup: {
                ready: () => {
                    MathJax.startup.defaultReady();
                    console.log('MathJax ready for Chinese math content');
                }
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
    <h1>ğŸ§® Chinese Math Content Rendering Test</h1>
    
    <div class="test-section original">
        <h2>ğŸ”´ Original Problematic Content</h2>
        <div class="hint">
            å¾å³é‚Šé–‹å§‹ï¼Œ$2$ ä¸èƒ½æ¸› $8$ï¼Œè¦å‘ $5$ å€Ÿ $1$ï¼Œ$2$ è®Š $12$ï¼Œ$5$ è®Š $4$ã€‚<br>
            ä½ èƒ½æŠŠæ¯ä¸€ä½æ•¸å­—æ¸›ä¸‹ä¾†å—ï¼Ÿè¨˜å¾—å°æ•¸é»è¦å°é½Šå–”ï¼<br>
            å¯«ä¸‹ä½ çš„ç­”æ¡ˆï¼Œè€å¸«æœƒä¸€èµ·æª¢æŸ¥ï¼
        </div>
        <p><strong>Issue:</strong> This might not display properly in your HTML preview.</p>
    </div>
    
    <div class="test-section fixed">
        <h2>âœ… Should Work With MathJax</h2>
        <div class="hint">
            å¾å³é‚Šé–‹å§‹ï¼Œ$2$ ä¸èƒ½æ¸› $8$ï¼Œè¦å‘ $5$ å€Ÿ $1$ï¼Œ$2$ è®Š $12$ï¼Œ$5$ è®Š $4$ã€‚<br>
            ä½ èƒ½æŠŠæ¯ä¸€ä½æ•¸å­—æ¸›ä¸‹ä¾†å—ï¼Ÿè¨˜å¾—å°æ•¸é»è¦å°é½Šå–”ï¼<br>
            å¯«ä¸‹ä½ çš„ç­”æ¡ˆï¼Œè€å¸«æœƒä¸€èµ·æª¢æŸ¥ï¼
        </div>
        <p><strong>With MathJax:</strong> The math expressions should render properly now.</p>
    </div>
    
    <div class="test-section">
        <h2>ğŸ”¢ More Chinese Math Examples</h2>
        <p>åŸºæœ¬é‹ç®—ï¼š$1 + 1 = 2$</p>
        <p>åˆ†æ•¸ï¼šé€™è£¡æœ‰ $\frac{1}{2}$ å€‹è˜‹æœ</p>
        <p>ç™¾åˆ†æ¯”ï¼šè€ƒè©¦å¾—äº† $85\%$ çš„åˆ†æ•¸</p>
        <p>æ–¹ç¨‹å¼ï¼šå¦‚æœ $x + 3 = 7$ï¼Œé‚£éº¼ $x = 4$</p>
        <p>è¤‡é›œè¡¨é”å¼ï¼šé¢ç©å…¬å¼æ˜¯ $A = \pi r^2$</p>
    </div>
    
    <div class="test-section">
        <h2>ğŸ“ Math Teaching Example</h2>
        <div class="hint">
            è¨ˆç®— $52 - 28$ï¼š<br>
            ç¬¬ä¸€æ­¥ï¼šå¾å€‹ä½é–‹å§‹ï¼Œ$2 - 8$ ä¸å¤ æ¸›<br>
            ç¬¬äºŒæ­¥ï¼šå‘åä½å€Ÿ $1$ï¼Œ$2$ è®Šæˆ $12$<br>
            ç¬¬ä¸‰æ­¥ï¼š$12 - 8 = 4$<br>
            ç¬¬å››æ­¥ï¼šåä½ $5 - 1 = 4$ï¼Œå†æ¸› $2$ å¾— $2$<br>
            ç­”æ¡ˆï¼š$52 - 28 = 24$
        </div>
    </div>
    
    <div class="test-section debug">
        <h2>ğŸ› Debug Information</h2>
        <pre id="debug-info">Loading debug information...</pre>
    </div>

    <script>
        // Debug script
        setTimeout(() => {
            const debugInfo = document.getElementById('debug-info');
            const bodyText = document.body.textContent || document.body.innerText;
            
            const debug = {
                'Page charset': document.characterSet,
                'Chinese chars detected': /[\u4e00-\u9fff]/.test(bodyText),
                'Math expressions ($...$)': (bodyText.match(/\$[^$\n]+\$/g) || []).length,
                'BR tags': document.querySelectorAll('br').length,
                'Hint divs': document.querySelectorAll('.hint').length,
                'MathJax loaded': typeof MathJax !== 'undefined',
                'MathJax version': typeof MathJax !== 'undefined' ? MathJax.version : 'Not loaded',
                'Sample math found': bodyText.match(/\$\d+\$/g) || []
            };
            
            debugInfo.textContent = JSON.stringify(debug, null, 2);
            console.log('Debug info:', debug);
        }, 1000);
        
        // Wait for MathJax to render, then check results
        setTimeout(() => {
            const mathElements = document.querySelectorAll('.MathJax');
            console.log('MathJax elements rendered:', mathElements.length);
            
            if (mathElements.length > 0) {
                console.log('âœ… MathJax rendering successful');
            } else {
                console.log('âŒ MathJax rendering failed - check configuration');
            }
        }, 3000);
    </script>
</body>
</html>
